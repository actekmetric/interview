# QA Environment Values for Observability Stack

global:
  environment: qa
  region: us-east-1

prometheusAgent:
  enabled: true

  serviceAccount:
    create: true
    name: prometheus-agent
    annotations:
      # TODO: Replace with actual IAM role ARN from Terraform output
      # Get from: cd sre/terragrunt/environments/qa/observability/amp && terragrunt output prometheus_agent_role_arn
      eks.amazonaws.com/role-arn: "arn:aws:iam::ACCOUNT_ID:role/tekmetric-qa-prometheus-agent-role"

  amp:
    # TODO: Replace with actual AMP remote_write endpoint from Terraform output
    # Get from: cd sre/terragrunt/environments/qa/observability/amp && terragrunt output workspace_endpoint
    remoteWriteUrl: "REPLACE_WITH_AMP_REMOTE_WRITE_URL"
    sigv4:
      enabled: true
      region: us-east-1

  scrapeInterval: 30s
  scrapeTimeout: 10s

  resources:
    requests:
      memory: "512Mi"
      cpu: "250m"
    limits:
      memory: "1Gi"
      cpu: "500m"

kubeStateMetrics:
  enabled: true
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "200m"

nodeExporter:
  enabled: true
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "100m"
